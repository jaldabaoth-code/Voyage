{% extends 'layout.html.twig' %}


{% form_theme commentForm 'bootstrap_4_layout.html.twig' %}

{% block title %}Commentaires{% endblock %}

{% block body %}
    <div class="btn-group col-12" role="group" aria-label="Basic checkbox toggle button group">

        <input type="checkbox" class="btn-check" id="btncheck1" autocomplete="off">
        <a href="{{ path('comment') }}" class="btn btn-dark btn-outline-warning active" for="btncheck1">Commentaires</a>

        <input type="checkbox" class="btn-check" id="btncheck2" autocomplete="off">
        <a href="{{ path('photo') }}" class="btn btn-dark btn-outline-warning" for="btncheck2">Photos</a>

    </div>
    <div class="d-flex justify-content-center row">
        <div class="mt-5">
            {% for comment in comments %}
                <div class="my-2">
                    <h4>{{ comment.title }} --  <a href="#" class="text-warning text-decoration-none">{{ comment.user.userusername }}</a></h4>
                    <p class="m-0 p-0">Commentaire : {{ comment.comment }}</p></br>
                    {% if app.user and app.user.email == comment.user.email or is_granted('ROLE_ADMIN') %}
                        {% include "comment/_delete_form.html.twig" %}
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        {% if app.user %}
            <div class="my-5 text-center col-8">
                {{ form_start(commentForm) }}
                    {{ form_label(commentForm.title, null,
                        {label: 'Le titre de votre commentaire', 'class': 'mb-0', 'label_attr': {'class': 'h6'}}) }}
                    {{ form_widget(commentForm.title,
                        {'attr': {'placeholder': 'Le titre', 'class': 'shadow-sm p-2 bg-white rounded fw-light'}}) }}

                    {{ form_label(commentForm.comment, null,
                        {label: 'Votre commentaire', 'class': 'mb-0', 'label_attr': {'class': 'h6'}}) }}
                    {{ form_widget(commentForm.comment,
                        {'attr': {'placeholder': 'Commentaire', 'class': 'shadow-sm p-2 bg-white rounded fw-light'}}) }}
                    <button type="submit" class="btn btn-lg btn-primary col-12 mt-2">Envoyer</button>
                {{ form_end(commentForm) }}
            </div>
        {% endif %}
    </div>
{% endblock %}
